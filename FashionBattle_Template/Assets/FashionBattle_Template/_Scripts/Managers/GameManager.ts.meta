fileFormatVersion: 2
guid: d7282ca797582a5488ae9d686c99c853
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nexports.STAGE = void 0;\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    UnityEngine_1 = require(\"UnityEngine\");\r\nconst MultiplayerManager_1 = require(\"../Multiplayer/MultiplayerManager\");\r\nconst
    PlayerSpawner_1 = require(\"../Player/PlayerSpawner\");\r\nconst ZEPETO_Character_Controller_1
    = require(\"ZEPETO.Character.Controller\");\r\nconst UIManager_1 = require(\"./UIManager\");\r\nvar
    STAGE;\r\n(function (STAGE) {\r\n    STAGE[STAGE[\"CUSTOMIZATION\"] = 0] = \"CUSTOMIZATION\";\r\n   
    STAGE[STAGE[\"RUNWAY\"] = 1] = \"RUNWAY\";\r\n})(STAGE = exports.STAGE || (exports.STAGE
    = {}));\r\nclass GameManager extends ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n   
    constructor() {\r\n        super(...arguments);\r\n        this.isPlayerReady
    = false;\r\n        this.isGameStarted = false;\r\n        this.playersReady
    = false;\r\n        this.counterToStart = 10;\r\n    }\r\n    Awake() {\r\n       
    // Singleton pattern\r\n        if (ZEPETO_Script_1.ZepetoScriptBehaviour.op_Inequality(GameManager.instance,
    null))\r\n            UnityEngine_1.GameObject.Destroy(this.gameObject);\r\n       
    else\r\n            GameManager.instance = this;\r\n        this.SwitchStage(STAGE.CUSTOMIZATION);\r\n       
    this.isPlayerReady = false;\r\n        this.counterToStart = this.timeToStart;\r\n   
    }\r\n    Update() {\r\n        if (this.playersReady) {\r\n            this.counterToStart
    -= UnityEngine_1.Time.deltaTime;\r\n            if (this.counterToStart < 0)
    {\r\n                this.isGameStarted = true;\r\n                UIManager_1.default.instance.SwitchUIPanel(UIManager_1.UIPanelType.CUSTOMIZATION);\r\n           
    }\r\n        }\r\n    }\r\n    SwitchStage(stage) {\r\n        this.stageCustomization.SetActive(false);\r\n       
    this.stageRunway.SetActive(false);\r\n        switch (stage) {\r\n           
    case STAGE.CUSTOMIZATION:\r\n                this.stageCustomization.SetActive(true);\r\n               
    this.playerSpawner.GetComponent($typeof(PlayerSpawner_1.default)).SpawnPlayerAtTransform(this.customizationGizmo);\r\n               
    break;\r\n            case STAGE.RUNWAY:\r\n                this.stageRunway.SetActive(true);\r\n               
    break;\r\n        }\r\n    }\r\n    SetGameReadyToStart(value) {\r\n        this.playersReady
    = value;\r\n        UIManager_1.default.instance.SetCounterToStart(value);\r\n       
    if (!value) {\r\n            this.counterToStart = this.timeToStart;\r\n       
    }\r\n    }\r\n    OnPlayerReady() {\r\n        this.isPlayerReady = !this.isPlayerReady;\r\n       
    MultiplayerManager_1.default.instance.SetPlayerReady(this.isPlayerReady);\r\n   
    }\r\n    OnPlayerDoneCustomize() {\r\n        MultiplayerManager_1.default.instance.SetPlayerIsCustomize(true);\r\n   
    }\r\n    // Method to change the costume of the local player using the provided
    item code.\r\n    ChangeCostume(itemType, itemCode) {\r\n        // Use the LocalPlayer
    property to access the local player instance and set their costume using the
    provided item code.\r\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.SetCostume(itemCode,
    () => {\r\n            // Once the costume change is complete, log a message
    indicating the successful change.\r\n            console.log(`Set Costume Complete
    : ${itemCode}`);\r\n        });\r\n        MultiplayerManager_1.default.instance.SetItemInPlayerData(itemType,
    itemCode);\r\n    }\r\n}\r\nexports.default = GameManager;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2FtZU1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJHYW1lTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxpREFBcUQ7QUFDckQsNkNBQWlGO0FBQ2pGLDBFQUFrRjtBQUNsRiwyREFBb0Q7QUFDcEQsNkVBQTREO0FBQzVELDJDQUFxRDtBQUVyRCxJQUFZLEtBR1g7QUFIRCxXQUFZLEtBQUs7SUFDYixtREFBYSxDQUFBO0lBQ2IscUNBQU0sQ0FBQTtBQUNWLENBQUMsRUFIVyxLQUFLLEdBQUwsYUFBSyxLQUFMLGFBQUssUUFHaEI7QUFFRCxNQUFxQixXQUFZLFNBQVEscUNBQXFCO0lBQTlEOztRQUlXLGtCQUFhLEdBQVMsS0FBSyxDQUFDO1FBVTVCLGtCQUFhLEdBQVMsS0FBSyxDQUFDO1FBQzVCLGlCQUFZLEdBQVMsS0FBSyxDQUFDO1FBRTNCLG1CQUFjLEdBQVcsRUFBRSxDQUFDO0lBMEV2QyxDQUFDO0lBeEVHLEtBQUs7UUFDRCxvQkFBb0I7UUFDcEIsSUFqQ0MscUNBQXFCLENBdUdvdUgsYUFBYyxDQXRFcHdILFdBQVcsQ0FBQyxRQUFRLEVBQUksSUFBSTtZQUFFLHdCQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzs7WUFDakUsV0FBVyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFFakMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFdEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDM0IsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzNDLENBQUM7SUFFRCxNQUFNO1FBRUYsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUNyQjtZQUNJLElBQUksQ0FBQyxjQUFjLElBQUksa0JBQUksQ0FBQyxTQUFTLENBQUM7WUFDdEMsSUFBRyxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsRUFDMUI7Z0JBQ0ksSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7Z0JBQzFCLG1CQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyx1QkFBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQy9EO1NBQ0o7SUFDTCxDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQVk7UUFFM0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVsQyxRQUFRLEtBQUssRUFDYjtZQUNJLEtBQUssS0FBSyxDQUFDLGFBQWE7Z0JBQ3BCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxTQUFDLHVCQUFhLEdBQUksc0JBQXNCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQ2pHLE1BQU07WUFDVixLQUFLLEtBQUssQ0FBQyxNQUFNO2dCQUNiLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqQyxNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBRU0sbUJBQW1CLENBQUMsS0FBVztRQUVsQyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUMxQixtQkFBUyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1QyxJQUFHLENBQUMsS0FBSyxFQUNUO1lBQ0ksSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVNLGFBQWE7UUFFaEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDekMsNEJBQWtCLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVNLHFCQUFxQjtRQUV4Qiw0QkFBa0IsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVELGlGQUFpRjtJQUMxRSxhQUFhLENBQUMsUUFBbUIsRUFBRSxRQUFnQjtRQUN0RCx1SEFBdUg7UUFDdkgsMkNBQWEsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO1lBQ3pELHVGQUF1RjtZQUN2RixPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO1FBRUgsNEJBQWtCLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN4RSxDQUFDO0NBQ0o7QUEzRkQsOEJBMkZDIn0=","assetPath":"Assets/FashionBattle_Template/_Scripts/Managers/GameManager.ts","manifest":{"properties":[{"assembly":"mscorlib","name":"isPlayerReady","type":"System.Boolean","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"playerCount","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"stageCustomization","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"stageRunway","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"playerSpawner","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"customizationGizmo","type":"UnityEngine.Transform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"isGameStarted","type":"System.Boolean","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"playersReady","type":"System.Boolean","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"timeToStart","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"counterToStart","type":"System.Single","isArray":false,"initValue":["10"],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"GameManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 54468fadcb0a472671108e03f4a062ca
  onlyWriteTrigger: 0
